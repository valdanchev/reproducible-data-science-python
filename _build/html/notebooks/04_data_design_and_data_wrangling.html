
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Design &amp; Data Wrangling &#8212; Reproducible Data Science + Python + Real-World Data</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e7340bb3dbd8dde6db86f25597f54a1b.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Exploratory Data Analysis and Visualisation" href="05_data_exploration_and_visualisation.html" />
    <link rel="prev" title="Open Reproducible Data Science Workflow" href="03_open_reproducible_workflows.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Reproducible Data Science + Python + Real-World Data</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Reproducible Data Science with Python
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  About the textbook
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="00_textbook_outline.html">
   Textbook outline
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_textbook_outline.html#what-is-reproducible-data-science">
   What is Reproducible Data Science?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_textbook_outline.html#learning-objectives">
   Learning objectives
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_textbook_outline.html#how-to-get-the-most-of-these-materials">
   How to get the most of these materials?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_textbook_outline.html#learning-resources">
   Learning resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_textbook_outline.html#software-stack">
   Software stack
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_textbook_outline.html#data-sets">
   Data sets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_textbook_outline.html#acknowledgment">
   Acknowledgment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="00_textbook_outline.html#code-availability">
   Code availability
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  End-to-End Data Science Project
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html">
   Human mobility during UK lockdowns
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#let-s-formulate-our-research-question">
   Let’s formulate our research question
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#data-to-address-the-question">
   Data to address the question
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#get-started-with-jupyter-colab-notebook">
   Get started with Jupyter/Colab notebook
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#let-s-get-coding">
   Let’s get coding
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#python-tools-for-data-analysis">
   Python tools for data analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#load-your-data">
   Load your data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#view-your-data">
   View your data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#data-design-how-are-data-generated">
   Data Design: How are data generated?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#data-ethics-privacy-and-fairness-risks">
   Data Ethics, Privacy, and Fairness Risks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#describe-your-data">
   Describe your data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#exploratory-data-analysis">
   Exploratory data analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#data-wrangling">
   Data wrangling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#visualising-mobility-trends">
   Visualising mobility trends
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#mobility-changes-across-lockdowns">
   Mobility changes across lockdowns
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#zooming-in-regional-mobility-trends">
   Zooming in: Regional mobility trends
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01_end_to_end_data_science_project.html#re-cap">
   Re-cap
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Python Data Science on the Cloud
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html">
   <strong>
    Python for Data Analysis on the Cloud
   </strong>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#get-started-with-jupyter-colab-notebooks">
   Get Started with Jupyter &amp; Colab notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#python-coding-for-data-analysis">
   Python Coding for Data Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#descriptive-statistics-with-numpy">
   Descriptive statistics with
   <code class="docutils literal notranslate">
    <span class="pre">
     NumPy
    </span>
   </code>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#getting-help">
   Getting help
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#readability-of-your-python-code">
   Readability of your Python code
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#running-terminal-commands-in-jupyter-colab-notebook">
   Running Terminal commands in Jupyter/Colab notebook
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#installing-packages-with-pip">
   Installing packages with
   <code class="docutils literal notranslate">
    <span class="pre">
     pip
    </span>
   </code>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#jupyter-magic-commands">
   Jupyter magic commands
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#loading-real-world-data-with-pandas">
   Loading real-world data with
   <code class="docutils literal notranslate">
    <span class="pre">
     pandas
    </span>
   </code>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#hands-on-exercise-let-s-practice-your-python-skills">
   Hands-on exercise: Let’s practice your Python skills
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#markdown-text-cells">
   Markdown Text Cells
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_python_data_science_on_the_cloud.html#hands-on-exercise-let-s-practice-your-markdown-skills">
   Hands-on exercise: Let’s practice your Markdown skills
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Open Reproducible Workflow
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="03_open_reproducible_workflows.html">
   Open Reproducible Data Science Workflow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_open_reproducible_workflows.html#what-is-computational-reproducibility-and-why-it-matters">
   What is computational reproducibility and why it matters?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_open_reproducible_workflows.html#open-reproducible-workflow-in-jupyter-colab-notebooks">
   Open Reproducible Workflow in Jupyter/Colab Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_open_reproducible_workflows.html#rules-for-reproducible-workflow">
   Rules for Reproducible Workflow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_open_reproducible_workflows.html#reproducible-research-report">
   Reproducible research report
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_open_reproducible_workflows.html#recording-dependencies">
   Recording dependencies
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  data design &amp; data wrangling
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Data Design &amp; Data Wrangling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#get-started-with-pandas">
   Get started with
   <code class="docutils literal notranslate">
    <span class="pre">
     pandas
    </span>
   </code>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#importing-pandas">
   Importing
   <code class="docutils literal notranslate">
    <span class="pre">
     pandas
    </span>
   </code>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#loading-your-data">
   Loading your data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#loading-covid-19-data-sets-via-url">
   Loading Covid-19 data sets via URL
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#viewing-describing-and-accessing-your-data">
   Viewing, Describing, and Accessing your Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#accessing-columns-and-rows-in-your-data">
   Accessing columns and rows in your data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#hands-on-exercise">
   Hands-on exercise
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#handling-missing-values">
   Handling Missing Values
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#compare-mobility-data-formats">
   Compare mobility data formats
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#recording-dependencies">
   Recording dependencies
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Data Exploration &amp; Visualisation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html">
   Exploratory Data Analysis and Visualisation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#learning-resources">
   Learning resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#addressing-simple-questions-via-python-eda">
   Addressing simple questions via Python EDA
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#code-reuse-creating-your-own-functions">
   Code reuse: creating your own functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#rq1-how-do-countries-differ-in-mobility-trends">
   RQ1: How do countries differ in mobility trends?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#data-visualisation-with-seaborn">
   Data visualisation with Seaborn
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#changing-figure-appearance">
   Changing figure appearance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#wide-and-long-data-format">
   Wide and long data format
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#multi-plot-visualisations">
   Multi-plot visualisations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#hands-on-exercise">
   Hands-on exercise
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#rq2-how-do-mobility-trends-change-over-time">
   RQ2: How do mobility trends change over time?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#visualising-time-series-data">
   Visualising time series data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#bootstrapping-for-inference">
   Bootstrapping for inference
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#rq3-how-have-mobility-trends-differed-across-uk-lockdowns">
   RQ3: How have mobility trends differed across UK lockdowns?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#visualising-lockdowns-mobility-as-barplots">
   Visualising lockdowns’ mobility as barplots
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#rq4-how-have-mobility-trends-differed-across-uk-counties-during-the-third-lockdown">
   RQ4: How have mobility trends differed across UK counties during the third lockdown?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#id1">
   Multi-plot visualisations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#split-apply-combine">
   Split-apply-combine
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#summarising-data-by-groups">
   Summarising data by groups
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#rq5-how-do-mobility-categories-relate-to-each-other">
   RQ5: How do mobility categories relate to each other?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#visualising-distributions">
   Visualising distributions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#plotting-pairwise-relationships">
   Plotting pairwise relationships
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#rq6-how-correlated-are-mobility-categories-across-uk-counties">
   RQ6: How correlated are mobility categories across UK counties?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#visualising-correlation">
   Visualising correlation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#visualising-linear-regression">
   Visualising linear regression
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_data_exploration_and_visualisation.html#recording-dependencies">
   Recording dependencies
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Pattern Discovery using Unsupervised Learning
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html">
   Discovering patterns in data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#machine-learning-what-is-it-what-is-it-good-for">
   Machine Learning: What is it? What is it good for?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#research-problem-clustering-counties-by-mobility">
   Research problem: clustering counties by mobility
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#k-means-clustering">
   <em>
    k
   </em>
   -means clustering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#let-s-get-coding-with-scikit-learn">
   Let’s get coding with
   <code class="docutils literal notranslate">
    <span class="pre">
     scikit-learn
    </span>
   </code>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#data-preprocessing">
   Data preprocessing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#data-standardisation">
   Data standardisation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#choosing-the-optimal-number-of-clusters">
   Choosing the optimal number of clusters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#performing-for-loop">
   Performing
   <code class="docutils literal notranslate">
    <span class="pre">
     for
    </span>
   </code>
   loop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#elbow-plot">
   Elbow plot
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#dimensionality-reduction-via-pca">
   Dimensionality Reduction via PCA
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#visualising-mobility-clusters">
   Visualising mobility clusters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#related-approaches-hierarchical-clustering">
   Related approaches: Hierarchical clustering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_pattern_discovery_using_unsupervised_learning.html#hands-on-exercise">
   Hands-on exercise
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Prediction using Supervised Learning
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html">
   Learning from Data to Predict
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#the-prediction-task">
   The Prediction task
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#prediction-tasks-in-social-sciences">
   Prediction tasks in social sciences
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#predictions-gone-wrong">
   Predictions gone wrong
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#supervised-learning">
   Supervised learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#research-problem-vaccine-hesitancy">
   Research problem: vaccine hesitancy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#data-understanding-society-covid-19">
   Data: Understanding Society COVID-19
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#defining-output-and-input-variables">
   Defining Output and Input variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#data-wrangling">
   Data wrangling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#overfitting-and-data-splitting">
   Overfitting and data splitting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#preprocessing-the-training-data-set">
   Preprocessing the training data set
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#unbalance-class-problem">
   Unbalance class problem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#train-models-on-training-data">
   Train models on training data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#model-evaluation-using-cross-validation">
   Model evaluation using Cross-validation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#testing-model-accuracy-on-new-data">
   Testing model accuracy on new data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#preprocessing-the-test-data-set">
   Preprocessing the test data set
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#predicting-vaccine-hesitancy">
   Predicting vaccine hesitancy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_prediction_using_supervised_learning.html#model-evaluation-on-test-data">
   Model evaluation on test data
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Causal Inference
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="08_causal_inference.html">
   Introduction to Causal Inference
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_causal_inference.html#what-causes-what">
   What causes what?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_causal_inference.html#confoundingbasic-definitions">
   Confounding—basic definitions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_causal_inference.html#our-example-of-collider-bias">
   Our example of collider bias
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_causal_inference.html#drawing-causal-graphs">
   Drawing causal graphs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_causal_inference.html#statistical-models-in-python">
   Statistical Models in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_causal_inference.html#collider-confounder">
   Collider confounder
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_causal_inference.html#additional-material">
   Additional material
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_causal_inference.html#gender-discrimination-and-collider-bias">
   Gender discrimination and collider bias
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_causal_inference.html#references">
   References
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Network Analysis
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html">
   Network analysis with NetworkX
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#open-network-data-repositories">
   Open network data repositories
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#network-representations">
   Network representations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#creating-an-undirected-network">
   Creating an undirected network
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#computing-network-diagnostics">
   Computing network diagnostics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#assortative-mixing">
   Assortative mixing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#creating-a-directed-network">
   Creating a directed network
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#a-fun-examplestar-wars-network">
   A fun example—Star Wars network
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#global-network-diagnostics">
   Global network diagnostics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#meso-scale-network-diagnostics">
   Meso-scale network diagnostics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#local-network-diagnostics">
   Local network diagnostics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_network_analysis.html#references">
   References
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Data ethics
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="10_data_ethics.html">
   Data Ethics, Bias, and Fairness
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10_data_ethics.html#discussion-a-level-results-in-2020-england">
   Discussion: A-level results in 2020 England
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10_data_ethics.html#learning-resources-about-the-a-level-controversy">
   Learning resources about the A-level controversy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10_data_ethics.html#bias-and-fairness-in-data-science-systems">
   Bias and Fairness in Data Science Systems
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/04_data_design_and_data_wrangling.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/valdanchev/reproducible-data-science-python"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/valdanchev/reproducible-data-science-python/issues/new?title=Issue%20on%20page%20%2Fnotebooks/04_data_design_and_data_wrangling.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/valdanchev/reproducible-data-science-python/master?urlpath=tree/notebooks/04_data_design_and_data_wrangling.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Data Design &amp; Data Wrangling
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#key-themes">
     Key themes
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learning-resources">
     Learning resources
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#get-started-with-pandas">
   Get started with
   <code class="docutils literal notranslate">
    <span class="pre">
     pandas
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importing-pandas">
   Importing
   <code class="docutils literal notranslate">
    <span class="pre">
     pandas
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loading-your-data">
   Loading your data
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loading-covid-19-data-sets-via-url">
   Loading Covid-19 data sets via URL
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-is-a-dataframe">
     What is a DataFrame?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#viewing-describing-and-accessing-your-data">
   Viewing, Describing, and Accessing your Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#view-your-data">
     View your data
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#describing-your-dataframe">
     Describing your DataFrame
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#accessing-columns-and-rows-in-your-data">
   Accessing columns and rows in your data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#accessing-columns">
     Accessing columns
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hands-on-exercise">
   Hands-on exercise
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#accessing-rows">
     Accessing rows
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#accessing-multiple-rows-and-columns-and-conditioning">
     Accessing multiple rows and columns and conditioning
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#handling-missing-values">
   Handling Missing Values
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#detecting-missing-values">
     Detecting missing values
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#removing-missing-values">
     Removing missing values
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#replacing-missing-values">
     Replacing missing values
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compare-mobility-data-formats">
   Compare mobility data formats
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recording-dependencies">
   Recording dependencies
  </a>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="data-design-data-wrangling">
<h1>Data Design &amp; Data Wrangling<a class="headerlink" href="#data-design-data-wrangling" title="Permalink to this headline">¶</a></h1>
<p>‘Data wrangling’ is the mundane labor of collecting, loading, transforming, and preparing data for exploration and analysis. Although it is hard to put a number on it, <a class="reference external" href="https://www.nytimes.com/2014/08/18/technology/for-big-data-scientists-hurdle-to-insights-is-janitor-work.html">estimates</a> indicate that data scientists spend from 50 per cent to 80 per cent of their time on data wrangling. The importance of data wrangling has been recognised in <a class="reference external" href="https://doi.org/10.1177/2378023118817378">social sciencies</a> as well.</p>
<p>Although data wrangling may seem a-theoretical, some of the decisions you would make would in fact depend on how the data were generated or designed.</p>
<p>In this lab, we will first discuss issues related to data design and will then practice hands-on data wrangling with <code class="docutils literal notranslate"><span class="pre">pandas</span></code> and other Python libraries for data analysis. We will wrangle open data sets, including the Google Covid-19 Community Mobility Reports and Apple Mobility Trends Reports.</p>
<div class="section" id="key-themes">
<h2>Key themes<a class="headerlink" href="#key-themes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>What are data? How are data generated (i.e., data design)?</p></li>
<li><p>Data wrangling with <code class="docutils literal notranslate"><span class="pre">pandas</span></code>: loading, selecting, and transforming data.</p></li>
</ul>
</div>
<div class="section" id="learning-resources">
<h2>Learning resources<a class="headerlink" href="#learning-resources" title="Permalink to this headline">¶</a></h2>
<p><i class="fas fa-book"></i> Matthew Salganik. <a class="reference external" href="https://www.bitbybitbook.com/en/1st-ed/observing-behavior/">2.3 Ten common characteristics of big data</a>. In <em>Bit by Bit: Social Research in the Digital Age</em>. <span class="xref myst">[Online version freely available]</span></p>
<p><i class="fas fa-book"></i> Lisa Gitelman and Virginia Jackson. <a class="reference external" href="https://raley.english.ucsb.edu/wp-content/Engl800/RawData-excerpts.pdf">“Raw Data” Is an Oxymoron. Introduction.</a> MIT Press.</p>
<p><i class="fas fa-scroll"></i> Sabina Leonelli. <a class="reference external" href="https://plato.stanford.edu/cgi-bin/encyclopedia/archinfo.cgi?entry=science-big-data">Scientific Research and Big Data.</a> The Stanford Encyclopedia of Philosophy.</p>
<p><i class="fas fa-book"></i> <i class="fas fa-code"></i> Sam Lau, Joey Gonzalez, and Deb Nolan. <a class="reference external" href="https://www.textbook.ds100.org/ch/01/lifecycle_intro.html">The Data Science Lifecycle</a>. In <a class="reference external" href="https://www.textbook.ds100.org/intro.html"><em>Principles and Techniques of Data Science</em></a>.</p>
<p><i class="fas fa-scroll"></i> Steve Lohr. <a class="reference external" href="https://www.nytimes.com/2014/08/18/technology/for-big-data-scientists-hurdle-to-insights-is-janitor-work.html">For Big-Data Scientists, ‘Janitor Work’ Is Key Hurdle to Insights</a>. New York Times.</p>
<p><i class="fas fa-scroll"></i> Alexander Kindel et al. <a class="reference external" href="https://doi.org/10.1177/2378023118817378">Improving Metadata Infrastructure for Complex Surveys: Insights from the Fragile Families Challenge</a>.
Socius.</p>
<p><i class="fas fa-play-circle"></i> <i class="fas fa-code"></i> <a class="reference external" href="https://www.youtube.com/watch?v=5rNu16O3YNE">Introduction to Data Processing in Python with Pandas</a>, SciPy 2019 Tutorial by Daniel Chen. See also freely available Jupyter notebooks: <a class="reference external" href="https://github.com/valdanchev/scipy-2019-pandas/blob/master/notebooks/01-intro.ipynb">01-intro.ipynb</a> and <a class="reference external" href="https://github.com/valdanchev/scipy-2019-pandas/blob/master/notebooks/02-tidy.ipynb">02-tidy.ipynb</a>.</p>
<br>
<div class="admonition-activity-discussing-data-biases admonition">
<p class="admonition-title">Activity: Discussing data biases</p>
<p>After reading the section <a class="reference external" href="https://www.bitbybitbook.com/en/1st-ed/observing-behavior/">Ten common characteristics of big data</a> in Matthew Salganik’s book <em>Bit by Bit</em>, we will discuss how each characteristic of big data applies to the digital data sets we are analysing in this and next sections, including the <a class="reference external" href="https://www.google.com/covid19/mobility/">Google COVID-19 Community Mobility Reports</a> and <a class="reference external" href="https://covid19.apple.com/mobility">Apple Mobility Trends Reports</a>.</p>
</div>
<img src="https://upload.wikimedia.org/wikipedia/commons/e/ed/Pandas_logo.svg" title='Pandas Logo' width="200" height="100" align="right" />
</div>
</div>
<div class="section" id="get-started-with-pandas">
<h1>Get started with <a class="reference external" href="https://pandas.pydata.org/docs/getting_started/index.html#getting-started"><code class="docutils literal notranslate"><span class="pre">pandas</span></code></a><a class="headerlink" href="#get-started-with-pandas" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">pandas</span></code> library:</p>
<ul class="simple">
<li><p>is a fast, powerful, and flexible open source tool for doing real world data analysis in Python.</p></li>
<li><p>offers a diverse range of high-performance tools for data loading, cleaning, wrangling, merging, reshaping,  and summarising.</p></li>
<li><p>is the go-to data science library in Python.</p></li>
</ul>
</div>
<div class="section" id="importing-pandas">
<h1>Importing <code class="docutils literal notranslate"><span class="pre">pandas</span></code><a class="headerlink" href="#importing-pandas" title="Permalink to this headline">¶</a></h1>
<p>To use <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, we first import the library via the Python’s <code class="docutils literal notranslate"><span class="pre">import</span></code> command and give it the alias pd:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">pd</span><span class="o">.</span><span class="n">__version__</span>

<span class="c1"># Suppress warnings to avoid potential confusion</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="loading-your-data">
<h1>Loading your data<a class="headerlink" href="#loading-your-data" title="Permalink to this headline">¶</a></h1>
<p>Pandas supports many data file formats, including csv, excel, sql, json.
For details, see <a class="reference external" href="https://pandas.pydata.org/docs/getting_started/intro_tutorials/02_read_write.html#min-tut-02-read-write">How do I read and write tabular data?</a> For example, once you import pandas as pd, you can load a .csv file using the function <code class="docutils literal notranslate"><span class="pre">pd.read_csv()</span></code>, an Excel file using the function <code class="docutils literal notranslate"><span class="pre">pd.read_excel()</span></code>, and a JSON file using the function <code class="docutils literal notranslate"><span class="pre">pd.read_json()</span></code>.</p>
<img src="https://pandas.pydata.org/docs/_images/02_io_readwrite.svg" width="800" height="400" ></div>
<div class="section" id="loading-covid-19-data-sets-via-url">
<h1>Loading Covid-19 data sets via URL<a class="headerlink" href="#loading-covid-19-data-sets-via-url" title="Permalink to this headline">¶</a></h1>
<img src="https://www.google.com/covid19/static/reports-icon-grid.png" title='Google Covid-19 Community Mobility Data' width="200" height="100" align="right"/>
<p>What are the Google Covid-19 <a class="reference external" href="https://www.google.com/covid19/mobility/">Community Mobility Reports</a>?</p>
<ul class="simple">
<li><p>Aggregated and anonymized sets of freely available data that protect individual privacy.</p></li>
<li><p>Shows trends of human mobility over time by country and region, across six categories of places, including retail and recreation, groceries and pharmacies, parks, transit stations, workplaces, and residential.</p></li>
<li><p>The data shows how visitors to (or time spent in) categorized places change compared to baseline days. A baseline day represents a normal value for that day of the week. The baseline day is the median value from the 5‑week period Jan 3 – Feb 6, 2020.</p></li>
</ul>
<p>An overview of the data from the mobility data can be found <a class="reference external" href="https://www.google.com/covid19/mobility/">here</a>.</p>
<p>The code below loads the most recent version of the Covid-19 Google Community Mobility Reports as a <code class="docutils literal notranslate"><span class="pre">pandas</span></code> DataFrame object and assign the object to a variable called ‘mobility_trends’</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://www.gstatic.com/covid19/mobility/Global_Mobility_Report.csv&quot;</span><span class="p">,</span>
    <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">],</span>
<span class="p">)</span>

<span class="n">mobility_trends</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Pandas</span></code> load the data as a DataFrame object. We can confirm this by using the built-in function <code class="docutils literal notranslate"><span class="pre">type()</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">mobility_trends</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.frame.DataFrame
</pre></div>
</div>
</div>
</div>
<div class="section" id="what-is-a-dataframe">
<h2>What is a <a class="reference external" href="https://pandas.pydata.org/docs/getting_started/intro_tutorials/01_table_oriented.html#min-tut-01-tableoriented">DataFrame</a>?<a class="headerlink" href="#what-is-a-dataframe" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>A DataFrame is a 2-dimensional data structure that can store data of different types (including characters, integers, floating point values, categorical data and more) in columns.</p>
</div></blockquote>
<img src="https://pandas.pydata.org/docs/_images/01_table_dataframe.svg" title='Pandas DataFrame' width="400" height="200"/>
</div>
</div>
<div class="section" id="viewing-describing-and-accessing-your-data">
<h1>Viewing, Describing, and Accessing your Data<a class="headerlink" href="#viewing-describing-and-accessing-your-data" title="Permalink to this headline">¶</a></h1>
<p>Once we have our data as a DataFrame data structure, we can view, describe, and access the data by applying <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/basics.html">basic functionalities</a> associated with that structure. For example, we can perform various operations by using the so called <code class="docutils literal notranslate"><span class="pre">methods</span></code>. Examples of <code class="docutils literal notranslate"><span class="pre">pandas</span></code> methods are <code class="docutils literal notranslate"><span class="pre">head()</span></code> and <code class="docutils literal notranslate"><span class="pre">tail()</span></code>; <code class="docutils literal notranslate"><span class="pre">head()</span></code> displays by default the top five rows of the data and <code class="docutils literal notranslate"><span class="pre">tail()</span></code> displays by default the last five rows. You can display a custom number of row by passing that number in the brackets.</p>
<div class="section" id="view-your-data">
<h2>View your data<a class="headerlink" href="#view-your-data" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the first five rows using the method DataFrame.head()</span>
<span class="n">mobility_trends</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AE</td>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
      <td>2020-02-15</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AE</td>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
      <td>2020-02-16</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AE</td>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
      <td>2020-02-17</td>
      <td>-1.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AE</td>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
      <td>2020-02-18</td>
      <td>-2.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>AE</td>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
      <td>2020-02-19</td>
      <td>-2.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>-1.0</td>
      <td>2.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the last five rows using the method DataFrame.tail()</span>
<span class="n">mobility_trends</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>9709262</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-25</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>84.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709263</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-26</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>107.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709264</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-27</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>109.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709265</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-28</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>92.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709266</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-29</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>113.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Specify the number of rows to return</span>
<span class="n">mobility_trends</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>9709257</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-18</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-3.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709258</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-19</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>95.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709259</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-20</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>92.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709260</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-21</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>74.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709261</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-22</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>97.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709262</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-25</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>84.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709263</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-26</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>107.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709264</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-27</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>109.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709265</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-28</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>92.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9709266</th>
      <td>ZW</td>
      <td>Zimbabwe</td>
      <td>Midlands Province</td>
      <td>Kwekwe</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJRcIZ3-FJNBkRRsj55IcLpfU</td>
      <td>2022-04-29</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>113.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="describing-your-dataframe">
<h2>Describing your DataFrame<a class="headerlink" href="#describing-your-dataframe" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dimensionality — number of rows and columns — of a DataFrame</span>
<span class="n">mobility_trends</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(9709267, 15)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use the print function to display the number of rows and columns</span>
<span class="c1"># in a DataFrame at the time of cell execution.</span>
<span class="c1"># Import the &#39;datetime&#39; module (used below to display the current date)</span>
<span class="kn">import</span> <span class="nn">datetime</span>

<span class="nb">print</span><span class="p">(</span>
    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">As of&quot;</span><span class="p">,</span>
    <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
    <span class="s2">&quot;The Google COVID-19 Community Mobility Reports contain&quot;</span><span class="p">,</span>
    <span class="n">mobility_trends</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
    <span class="s2">&quot;rows and&quot;</span><span class="p">,</span>
    <span class="n">mobility_trends</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="s2">&quot;columns.&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>As of 2022-05-04 05:55:30.237493 The Google COVID-19 Community Mobility Reports contain 9709267 rows and 15 columns.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Accessing columns using the DataFrame.columns attribute</span>
<span class="n">mobility_trends</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;country_region_code&#39;, &#39;country_region&#39;, &#39;sub_region_1&#39;, &#39;sub_region_2&#39;,
       &#39;metro_area&#39;, &#39;iso_3166_2_code&#39;, &#39;census_fips_code&#39;, &#39;place_id&#39;, &#39;date&#39;,
       &#39;retail_and_recreation_percent_change_from_baseline&#39;,
       &#39;grocery_and_pharmacy_percent_change_from_baseline&#39;,
       &#39;parks_percent_change_from_baseline&#39;,
       &#39;transit_stations_percent_change_from_baseline&#39;,
       &#39;workplaces_percent_change_from_baseline&#39;,
       &#39;residential_percent_change_from_baseline&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Let’s display a concise summary of our DataFrame using the method <code class="docutils literal notranslate"><span class="pre">info()</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Information about a DataFrame</span>
<span class="n">mobility_trends</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 9709267 entries, 0 to 9709266
Data columns (total 15 columns):
 #   Column                                              Dtype         
---  ------                                              -----         
 0   country_region_code                                 object        
 1   country_region                                      object        
 2   sub_region_1                                        object        
 3   sub_region_2                                        object        
 4   metro_area                                          object        
 5   iso_3166_2_code                                     object        
 6   census_fips_code                                    float64       
 7   place_id                                            object        
 8   date                                                datetime64[ns]
 9   retail_and_recreation_percent_change_from_baseline  float64       
 10  grocery_and_pharmacy_percent_change_from_baseline   float64       
 11  parks_percent_change_from_baseline                  float64       
 12  transit_stations_percent_change_from_baseline       float64       
 13  workplaces_percent_change_from_baseline             float64       
 14  residential_percent_change_from_baseline            float64       
dtypes: datetime64[ns](1), float64(7), object(7)
memory usage: 1.1+ GB
</pre></div>
</div>
</div>
</div>
<p>Among other information, displayed are labels of the columns and the data type of each column. For example ‘float64’ refers to a floating point number, i.e., a number with a decimal point. In the Community Mobility Reports, floating point numbers are used to display the percentage mobility change for each category of places.</p>
</div>
</div>
<div class="section" id="accessing-columns-and-rows-in-your-data">
<h1>Accessing columns and rows in your data<a class="headerlink" href="#accessing-columns-and-rows-in-your-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="accessing-columns">
<h2>Accessing columns<a class="headerlink" href="#accessing-columns" title="Permalink to this headline">¶</a></h2>
<p>You can can access columns via column name and column position.</p>
<ul class="simple">
<li><p><em>Accessing columns via column name</em></p></li>
</ul>
<p>Let’s access a single column.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the country column and save it to its own variable</span>
<span class="c1"># The double square bracket option `[[]]` gives DataFrame</span>

<span class="n">mobility_trends_countries</span> <span class="o">=</span> <span class="n">mobility_trends</span><span class="p">[[</span><span class="s2">&quot;country_region&quot;</span><span class="p">]]</span>
<span class="n">mobility_trends_countries</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>United Arab Emirates</td>
    </tr>
    <tr>
      <th>1</th>
      <td>United Arab Emirates</td>
    </tr>
    <tr>
      <th>2</th>
      <td>United Arab Emirates</td>
    </tr>
    <tr>
      <th>3</th>
      <td>United Arab Emirates</td>
    </tr>
    <tr>
      <th>4</th>
      <td>United Arab Emirates</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display the type of data structure</span>

<span class="nb">type</span><span class="p">(</span><span class="n">mobility_trends_countries</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.frame.DataFrame
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The single square braket `[]` option gives Series</span>
<span class="c1"># pandas Series is a one-dimensional data structure or simply put, a single column</span>

<span class="n">mobility_trends_countries_series</span> <span class="o">=</span> <span class="n">mobility_trends</span><span class="p">[</span><span class="s2">&quot;country_region&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display the type of data structure</span>
<span class="nb">type</span><span class="p">(</span><span class="n">mobility_trends_countries_series</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas.core.series.Series
</pre></div>
</div>
</div>
</div>
<p>Let’s now access multiple columns. We can access multiple columns by using a Python list. We use square brakets to create a list, for example <code class="docutils literal notranslate"><span class="pre">['country_region',</span> <span class="pre">'sub_region_1',</span> <span class="pre">'date']</span></code>. Python lists are useful as they store multiple items in the same variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends</span><span class="p">[[</span><span class="s2">&quot;country_region&quot;</span><span class="p">,</span> <span class="s2">&quot;sub_region_1&quot;</span><span class="p">,</span> <span class="s2">&quot;date&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>2020-02-15</td>
    </tr>
    <tr>
      <th>1</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>2020-02-16</td>
    </tr>
    <tr>
      <th>2</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>2020-02-17</td>
    </tr>
    <tr>
      <th>3</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>2020-02-18</td>
    </tr>
    <tr>
      <th>4</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>2020-02-19</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p><em>Accessing columns via column position</em></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Accessing columns 1, 2, adn 7 via column position and show the top five rows</span>

<span class="n">mobility_trends</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>place_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
    </tr>
    <tr>
      <th>1</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
    </tr>
    <tr>
      <th>2</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
    </tr>
    <tr>
      <th>3</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
    </tr>
    <tr>
      <th>4</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Accessing a subset of rows and columns. We access the top 3 rows and columns 1, 2, and 7</span>

<span class="n">mobility_trends</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>place_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
    </tr>
    <tr>
      <th>1</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
    </tr>
    <tr>
      <th>2</th>
      <td>United Arab Emirates</td>
      <td>NaN</td>
      <td>ChIJvRKrsd9IXj4RpwoIwFYv0zM</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="hands-on-exercise">
<h1>Hands-on exercise<a class="headerlink" href="#hands-on-exercise" title="Permalink to this headline">¶</a></h1>
<ol class="simple">
<li><p>Create a new code cell.</p></li>
<li><p>Access the first 100 rows and the following columns from the DataFrame <code class="docutils literal notranslate"><span class="pre">mobility_trends</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">country_region_code</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">date</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">retail_recreation</span></code></p></li>
</ul>
</li>
<li><p>Assign the output to a variable called <code class="docutils literal notranslate"><span class="pre">mobility_trends_subset</span></code>.</p></li>
</ol>
<div class="section" id="accessing-rows">
<h2>Accessing rows<a class="headerlink" href="#accessing-rows" title="Permalink to this headline">¶</a></h2>
<p>Rows can be accessed via row labels <code class="docutils literal notranslate"><span class="pre">df.loc</span></code> and row index <code class="docutils literal notranslate"><span class="pre">df.iloc</span></code>.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Before accessing particular rows, let&#39;s see the names of all countries in the dataset.</span>
<span class="c1"># We can achieve that by listing all unique values in the &#39;country_region&#39; column.</span>
<span class="n">mobility_trends</span><span class="o">.</span><span class="n">country_region</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;United Arab Emirates&#39;, &#39;Afghanistan&#39;, &#39;Antigua and Barbuda&#39;,
       &#39;Angola&#39;, &#39;Argentina&#39;, &#39;Austria&#39;, &#39;Australia&#39;, &#39;Aruba&#39;,
       &#39;Bosnia and Herzegovina&#39;, &#39;Barbados&#39;, &#39;Bangladesh&#39;, &#39;Belgium&#39;,
       &#39;Burkina Faso&#39;, &#39;Bulgaria&#39;, &#39;Bahrain&#39;, &#39;Benin&#39;, &#39;Bolivia&#39;,
       &#39;Brazil&#39;, &#39;The Bahamas&#39;, &#39;Botswana&#39;, &#39;Belarus&#39;, &#39;Belize&#39;, &#39;Canada&#39;,
       &#39;Switzerland&#39;, &quot;Côte d&#39;Ivoire&quot;, &#39;Chile&#39;, &#39;Cameroon&#39;, &#39;Colombia&#39;,
       &#39;Costa Rica&#39;, &#39;Cape Verde&#39;, &#39;Czechia&#39;, &#39;Germany&#39;, &#39;Denmark&#39;,
       &#39;Dominican Republic&#39;, &#39;Ecuador&#39;, &#39;Estonia&#39;, &#39;Egypt&#39;, &#39;Spain&#39;,
       &#39;Finland&#39;, &#39;Fiji&#39;, &#39;France&#39;, &#39;Gabon&#39;, &#39;United Kingdom&#39;, &#39;Georgia&#39;,
       &#39;Ghana&#39;, &#39;Greece&#39;, &#39;Guatemala&#39;, &#39;Guinea-Bissau&#39;, &#39;Hong Kong&#39;,
       &#39;Honduras&#39;, &#39;Croatia&#39;, &#39;Haiti&#39;, &#39;Hungary&#39;, &#39;Indonesia&#39;, &#39;Ireland&#39;,
       &#39;Israel&#39;, &#39;India&#39;, &#39;Iraq&#39;, &#39;Italy&#39;, &#39;Jamaica&#39;, &#39;Jordan&#39;, &#39;Japan&#39;,
       &#39;Kenya&#39;, &#39;Kyrgyzstan&#39;, &#39;Cambodia&#39;, &#39;South Korea&#39;, &#39;Kuwait&#39;,
       &#39;Kazakhstan&#39;, &#39;Laos&#39;, &#39;Lebanon&#39;, &#39;Liechtenstein&#39;, &#39;Sri Lanka&#39;,
       &#39;Lithuania&#39;, &#39;Luxembourg&#39;, &#39;Latvia&#39;, &#39;Libya&#39;, &#39;Morocco&#39;, &#39;Moldova&#39;,
       &#39;North Macedonia&#39;, &#39;Mali&#39;, &#39;Myanmar (Burma)&#39;, &#39;Mongolia&#39;, &#39;Malta&#39;,
       &#39;Mauritius&#39;, &#39;Mexico&#39;, &#39;Malaysia&#39;, &#39;Mozambique&#39;, &#39;Namibia&#39;,
       &#39;Niger&#39;, &#39;Nigeria&#39;, &#39;Nicaragua&#39;, &#39;Netherlands&#39;, &#39;Norway&#39;, &#39;Nepal&#39;,
       &#39;New Zealand&#39;, &#39;Oman&#39;, &#39;Panama&#39;, &#39;Peru&#39;, &#39;Papua New Guinea&#39;,
       &#39;Philippines&#39;, &#39;Pakistan&#39;, &#39;Poland&#39;, &#39;Puerto Rico&#39;, &#39;Portugal&#39;,
       &#39;Paraguay&#39;, &#39;Qatar&#39;, &#39;Réunion&#39;, &#39;Romania&#39;, &#39;Serbia&#39;, &#39;Russia&#39;,
       &#39;Rwanda&#39;, &#39;Saudi Arabia&#39;, &#39;Sweden&#39;, &#39;Singapore&#39;, &#39;Slovenia&#39;,
       &#39;Slovakia&#39;, &#39;Senegal&#39;, &#39;El Salvador&#39;, &#39;Togo&#39;, &#39;Thailand&#39;,
       &#39;Tajikistan&#39;, &#39;Turkey&#39;, &#39;Trinidad and Tobago&#39;, &#39;Taiwan&#39;,
       &#39;Tanzania&#39;, &#39;Ukraine&#39;, &#39;Uganda&#39;, &#39;United States&#39;, &#39;Uruguay&#39;,
       &#39;Venezuela&#39;, &#39;Vietnam&#39;, &#39;Yemen&#39;, &#39;South Africa&#39;, &#39;Zambia&#39;,
       &#39;Zimbabwe&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Accessing specific rows from a DataFrame.</span>
<span class="c1"># We are interested in the data about the United Kingdom.</span>

<span class="n">mobility_trends_UK</span> <span class="o">=</span> <span class="n">mobility_trends</span><span class="p">[</span>
    <span class="n">mobility_trends</span><span class="p">[</span><span class="s2">&quot;country_region&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;United Kingdom&quot;</span>
<span class="p">]</span>

<span class="n">mobility_trends_UK</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3577753</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-15</td>
      <td>-12.0</td>
      <td>-7.0</td>
      <td>-35.0</td>
      <td>-12.0</td>
      <td>-4.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577754</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-16</td>
      <td>-7.0</td>
      <td>-6.0</td>
      <td>-28.0</td>
      <td>-7.0</td>
      <td>-3.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3577755</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-17</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>24.0</td>
      <td>-2.0</td>
      <td>-14.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577756</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-18</td>
      <td>7.0</td>
      <td>-1.0</td>
      <td>20.0</td>
      <td>-3.0</td>
      <td>-14.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577757</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-19</td>
      <td>6.0</td>
      <td>-2.0</td>
      <td>8.0</td>
      <td>-4.0</td>
      <td>-14.0</td>
      <td>3.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Accessing data about multiple countries using the isin() method.</span>
<span class="n">mobility_trends_countries</span> <span class="o">=</span> <span class="n">mobility_trends</span><span class="p">[</span>
    <span class="n">mobility_trends</span><span class="p">[</span><span class="s2">&quot;country_region&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span>
        <span class="p">[</span><span class="s2">&quot;United Kingdom&quot;</span><span class="p">,</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span> <span class="s2">&quot;Italy&quot;</span><span class="p">,</span> <span class="s2">&quot;Sweden&quot;</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">]</span>

<span class="n">mobility_trends_countries</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3114174</th>
      <td>DE</td>
      <td>Germany</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJa76xwh5ymkcRW-WRjmtd6HU</td>
      <td>2020-02-15</td>
      <td>6.0</td>
      <td>1.0</td>
      <td>45.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>-1.0</td>
    </tr>
    <tr>
      <th>3114175</th>
      <td>DE</td>
      <td>Germany</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJa76xwh5ymkcRW-WRjmtd6HU</td>
      <td>2020-02-16</td>
      <td>7.0</td>
      <td>10.0</td>
      <td>9.0</td>
      <td>6.0</td>
      <td>-1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3114176</th>
      <td>DE</td>
      <td>Germany</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJa76xwh5ymkcRW-WRjmtd6HU</td>
      <td>2020-02-17</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>7.0</td>
      <td>1.0</td>
      <td>-2.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3114177</th>
      <td>DE</td>
      <td>Germany</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJa76xwh5ymkcRW-WRjmtd6HU</td>
      <td>2020-02-18</td>
      <td>2.0</td>
      <td>2.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>-1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3114178</th>
      <td>DE</td>
      <td>Germany</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJa76xwh5ymkcRW-WRjmtd6HU</td>
      <td>2020-02-19</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>-1.0</td>
      <td>-1.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filter by two conditions — country and county — simultenously</span>
<span class="c1"># First let&#39;s see the list of counties in the dataset</span>

<span class="n">mobility_trends</span><span class="p">[</span>
    <span class="n">mobility_trends</span><span class="p">[</span><span class="s2">&quot;country_region&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;United Kingdom&quot;</span>
<span class="p">]</span><span class="o">.</span><span class="n">sub_region_1</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([nan, &#39;Aberdeen City&#39;, &#39;Aberdeenshire&#39;, &#39;Angus Council&#39;,
       &#39;Antrim and Newtownabbey&#39;, &#39;Ards and North Down&#39;,
       &#39;Argyll and Bute Council&#39;, &#39;Armagh City, Banbridge and Craigavon&#39;,
       &#39;Bath and North East Somerset&#39;, &#39;Bedford&#39;, &#39;Belfast&#39;,
       &#39;Blackburn with Darwen&#39;, &#39;Blackpool&#39;, &#39;Blaenau Gwent&#39;,
       &#39;Borough of Halton&#39;, &#39;Bracknell Forest&#39;, &#39;Bridgend County Borough&#39;,
       &#39;Brighton and Hove&#39;, &#39;Bristol City&#39;, &#39;Buckinghamshire&#39;,
       &#39;Caerphilly County Borough&#39;, &#39;Cambridgeshire&#39;, &#39;Cardiff&#39;,
       &#39;Carmarthenshire&#39;, &#39;Causeway Coast and Glens&#39;,
       &#39;Central Bedfordshire&#39;, &#39;Ceredigion&#39;, &#39;Cheshire East&#39;,
       &#39;Cheshire West and Chester&#39;, &#39;Clackmannanshire&#39;,
       &#39;Conwy Principal Area&#39;, &#39;Cornwall&#39;, &#39;County Durham&#39;, &#39;Cumbria&#39;,
       &#39;Darlington&#39;, &#39;Denbighshire&#39;, &#39;Derby&#39;, &#39;Derbyshire&#39;,
       &#39;Derry and Strabane&#39;, &#39;Devon&#39;, &#39;Dorset&#39;, &#39;Dumfries and Galloway&#39;,
       &#39;Dundee City Council&#39;, &#39;East Ayrshire Council&#39;,
       &#39;East Dunbartonshire Council&#39;, &#39;East Lothian Council&#39;,
       &#39;East Renfrewshire Council&#39;, &#39;East Riding of Yorkshire&#39;,
       &#39;East Sussex&#39;, &#39;Edinburgh&#39;, &#39;Essex&#39;, &#39;Falkirk&#39;,
       &#39;Fermanagh and Omagh&#39;, &#39;Fife&#39;, &#39;Flintshire&#39;, &#39;Glasgow City&#39;,
       &#39;Gloucestershire&#39;, &#39;Greater London&#39;, &#39;Greater Manchester&#39;,
       &#39;Gwynedd&#39;, &#39;Hampshire&#39;, &#39;Hartlepool&#39;, &#39;Herefordshire&#39;,
       &#39;Hertfordshire&#39;, &#39;Highland Council&#39;, &#39;Inverclyde&#39;,
       &#39;Isle of Anglesey&#39;, &#39;Isle of Wight&#39;, &#39;Kent&#39;, &#39;Kingston upon Hull&#39;,
       &#39;Lancashire&#39;, &#39;Leicester&#39;, &#39;Leicestershire&#39;, &#39;Lincolnshire&#39;,
       &#39;Lisburn and Castlereagh&#39;, &#39;Luton&#39;, &#39;Medway&#39;, &#39;Merseyside&#39;,
       &#39;Merthyr Tydfil County Borough&#39;, &#39;Mid and East Antrim&#39;,
       &#39;Mid Ulster&#39;, &#39;Middlesbrough&#39;, &#39;Midlothian&#39;, &#39;Milton Keynes&#39;,
       &#39;Monmouthshire&#39;, &#39;Moray&#39;, &#39;Na h-Eileanan an Iar&#39;,
       &#39;Neath Port Talbot Principle Area&#39;, &#39;Newport&#39;,
       &#39;Newry, Mourne and Down&#39;, &#39;Norfolk&#39;, &#39;North Ayrshire Council&#39;,
       &#39;North East Lincolnshire&#39;, &#39;North Lanarkshire&#39;,
       &#39;North Lincolnshire&#39;, &#39;North Somerset&#39;, &#39;North Yorkshire&#39;,
       &#39;Northamptonshire&#39;, &#39;Northumberland&#39;, &#39;Nottingham&#39;,
       &#39;Nottinghamshire&#39;, &#39;Orkney&#39;, &#39;Oxfordshire&#39;, &#39;Pembrokeshire&#39;,
       &#39;Perth and Kinross&#39;, &#39;Peterborough&#39;, &#39;Plymouth&#39;, &#39;Portsmouth&#39;,
       &#39;Powys&#39;, &#39;Reading&#39;, &#39;Redcar and Cleveland&#39;, &#39;Renfrewshire&#39;,
       &#39;Rhondda Cynon Taff&#39;, &#39;Rutland&#39;, &#39;Scottish Borders&#39;,
       &#39;Shetland Islands&#39;, &#39;Shropshire&#39;, &#39;Slough&#39;, &#39;Somerset&#39;,
       &#39;South Ayrshire Council&#39;, &#39;South Gloucestershire&#39;,
       &#39;South Lanarkshire&#39;, &#39;South Yorkshire&#39;, &#39;Southampton&#39;,
       &#39;Southend-on-Sea&#39;, &#39;Staffordshire&#39;, &#39;Stirling&#39;, &#39;Stockton-on-Tees&#39;,
       &#39;Stoke-on-Trent&#39;, &#39;Suffolk&#39;, &#39;Surrey&#39;, &#39;Swansea&#39;, &#39;Swindon&#39;,
       &#39;Thurrock&#39;, &#39;Torbay&#39;, &#39;Torfaen Principal Area&#39;, &#39;Tyne and Wear&#39;,
       &#39;Vale of Glamorgan&#39;, &#39;Warrington&#39;, &#39;Warwickshire&#39;,
       &#39;West Berkshire&#39;, &#39;West Dunbartonshire Council&#39;, &#39;West Lothian&#39;,
       &#39;West Midlands&#39;, &#39;West Sussex&#39;, &#39;West Yorkshire&#39;, &#39;Wiltshire&#39;,
       &#39;Windsor and Maidenhead&#39;, &#39;Wokingham&#39;, &#39;Worcestershire&#39;,
       &#39;Wrexham Principal Area&#39;, &#39;York&#39;], dtype=object)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Access data about UK and Essex</span>
<span class="n">mobility_trends_UK_Essex</span> <span class="o">=</span> <span class="n">mobility_trends</span><span class="p">[</span>
    <span class="p">(</span><span class="n">mobility_trends</span><span class="p">[</span><span class="s2">&quot;country_region&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;United Kingdom&quot;</span><span class="p">)</span>
    <span class="o">&amp;</span> <span class="p">(</span><span class="n">mobility_trends</span><span class="p">[</span><span class="s2">&quot;sub_region_1&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Essex&quot;</span><span class="p">)</span>
<span class="p">]</span>

<span class="n">mobility_trends_UK_Essex</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3649131</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>Essex</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-ESS</td>
      <td>NaN</td>
      <td>ChIJ0w2H_idW2EcReVDuRzjLV0I</td>
      <td>2020-02-15</td>
      <td>-9.0</td>
      <td>-7.0</td>
      <td>-27.0</td>
      <td>-11.0</td>
      <td>-3.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3649132</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>Essex</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-ESS</td>
      <td>NaN</td>
      <td>ChIJ0w2H_idW2EcReVDuRzjLV0I</td>
      <td>2020-02-16</td>
      <td>-16.0</td>
      <td>-12.0</td>
      <td>-45.0</td>
      <td>-9.0</td>
      <td>-5.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3649133</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>Essex</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-ESS</td>
      <td>NaN</td>
      <td>ChIJ0w2H_idW2EcReVDuRzjLV0I</td>
      <td>2020-02-17</td>
      <td>9.0</td>
      <td>-1.0</td>
      <td>23.0</td>
      <td>-1.0</td>
      <td>-16.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>3649134</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>Essex</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-ESS</td>
      <td>NaN</td>
      <td>ChIJ0w2H_idW2EcReVDuRzjLV0I</td>
      <td>2020-02-18</td>
      <td>10.0</td>
      <td>-4.0</td>
      <td>15.0</td>
      <td>0.0</td>
      <td>-16.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3649135</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>Essex</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-ESS</td>
      <td>NaN</td>
      <td>ChIJ0w2H_idW2EcReVDuRzjLV0I</td>
      <td>2020-02-19</td>
      <td>9.0</td>
      <td>-3.0</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>-16.0</td>
      <td>2.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In the above example, you could simply type in</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends</span><span class="p">[</span><span class="n">mobility_trends</span><span class="p">[</span><span class="s1">&#39;sub_region_1&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Essex&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>The command will return the same result as there is no region called ‘Essex’ outside the UK. However, there are instances in the data where regions in different countries have the same name. When this is the case, not specifying the country would return confusing outputs.</p>
</div>
<div class="section" id="accessing-multiple-rows-and-columns-and-conditioning">
<h2>Accessing multiple rows and columns and conditioning<a class="headerlink" href="#accessing-multiple-rows-and-columns-and-conditioning" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends_UK</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3577753</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-15</td>
      <td>-12.0</td>
      <td>-7.0</td>
      <td>-35.0</td>
      <td>-12.0</td>
      <td>-4.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577754</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-16</td>
      <td>-7.0</td>
      <td>-6.0</td>
      <td>-28.0</td>
      <td>-7.0</td>
      <td>-3.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3577755</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-17</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>24.0</td>
      <td>-2.0</td>
      <td>-14.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577756</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-18</td>
      <td>7.0</td>
      <td>-1.0</td>
      <td>20.0</td>
      <td>-3.0</td>
      <td>-14.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577757</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-19</td>
      <td>6.0</td>
      <td>-2.0</td>
      <td>8.0</td>
      <td>-4.0</td>
      <td>-14.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3913819</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-YOR</td>
      <td>NaN</td>
      <td>ChIJh-IigLwxeUgRAKFv7Z75DAM</td>
      <td>2022-04-26</td>
      <td>-4.0</td>
      <td>11.0</td>
      <td>23.0</td>
      <td>-23.0</td>
      <td>-27.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3913820</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-YOR</td>
      <td>NaN</td>
      <td>ChIJh-IigLwxeUgRAKFv7Z75DAM</td>
      <td>2022-04-27</td>
      <td>-6.0</td>
      <td>9.0</td>
      <td>21.0</td>
      <td>-23.0</td>
      <td>-25.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3913821</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-YOR</td>
      <td>NaN</td>
      <td>ChIJh-IigLwxeUgRAKFv7Z75DAM</td>
      <td>2022-04-28</td>
      <td>-2.0</td>
      <td>11.0</td>
      <td>26.0</td>
      <td>-23.0</td>
      <td>-25.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3913822</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-YOR</td>
      <td>NaN</td>
      <td>ChIJh-IigLwxeUgRAKFv7Z75DAM</td>
      <td>2022-04-29</td>
      <td>-6.0</td>
      <td>12.0</td>
      <td>22.0</td>
      <td>-12.0</td>
      <td>-27.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>3913823</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-YOR</td>
      <td>NaN</td>
      <td>ChIJh-IigLwxeUgRAKFv7Z75DAM</td>
      <td>2022-04-30</td>
      <td>-7.0</td>
      <td>8.0</td>
      <td>39.0</td>
      <td>4.0</td>
      <td>-10.0</td>
      <td>-1.0</td>
    </tr>
  </tbody>
</table>
<p>336071 rows × 15 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s see which UK counties had the lower retail and recreation mobility</span>
<span class="c1"># the day after Italy went in lockdown on 9 March 2020</span>
<span class="n">mobility_trends_UK_10MARCH2020</span> <span class="o">=</span> <span class="n">mobility_trends_UK</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
    <span class="p">(</span><span class="n">mobility_trends_UK</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020-03-10&quot;</span><span class="p">)</span>
    <span class="o">&amp;</span> <span class="p">(</span><span class="n">mobility_trends_UK</span><span class="p">[</span><span class="s2">&quot;retail_and_recreation_percent_change_from_baseline&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">[</span><span class="s2">&quot;sub_region_1&quot;</span><span class="p">,</span> <span class="s2">&quot;retail_and_recreation_percent_change_from_baseline&quot;</span><span class="p">],</span>
<span class="p">]</span>

<span class="c1"># Sort in decreasing order</span>
<span class="n">mobility_trends_UK_10MARCH2020</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="n">by</span><span class="o">=</span><span class="s2">&quot;retail_and_recreation_percent_change_from_baseline&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sub_region_1</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3667647</th>
      <td>Gloucestershire</td>
      <td>-16.0</td>
    </tr>
    <tr>
      <th>3670056</th>
      <td>Greater London</td>
      <td>-14.0</td>
    </tr>
    <tr>
      <th>3691818</th>
      <td>Greater London</td>
      <td>-13.0</td>
    </tr>
    <tr>
      <th>3670862</th>
      <td>Greater London</td>
      <td>-12.0</td>
    </tr>
    <tr>
      <th>3686982</th>
      <td>Greater London</td>
      <td>-11.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3872801</th>
      <td>Tyne and Wear</td>
      <td>-1.0</td>
    </tr>
    <tr>
      <th>3810655</th>
      <td>Nottinghamshire</td>
      <td>-1.0</td>
    </tr>
    <tr>
      <th>3700684</th>
      <td>Greater Manchester</td>
      <td>-1.0</td>
    </tr>
    <tr>
      <th>3855116</th>
      <td>Suffolk</td>
      <td>-1.0</td>
    </tr>
    <tr>
      <th>3730429</th>
      <td>Kent</td>
      <td>-1.0</td>
    </tr>
  </tbody>
</table>
<p>167 rows × 2 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># UK counties with the lower retail and recreation</span>
<span class="c1"># the day after UK went in lockdown on 23 March 2020</span>
<span class="n">mobility_trends_UK_24MARCH2020</span> <span class="o">=</span> <span class="n">mobility_trends_UK</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
    <span class="p">(</span><span class="n">mobility_trends_UK</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2020-03-24&quot;</span><span class="p">)</span>
    <span class="o">&amp;</span> <span class="p">(</span><span class="n">mobility_trends_UK</span><span class="p">[</span><span class="s2">&quot;retail_and_recreation_percent_change_from_baseline&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">),</span>
    <span class="p">[</span><span class="s2">&quot;sub_region_1&quot;</span><span class="p">,</span> <span class="s2">&quot;retail_and_recreation_percent_change_from_baseline&quot;</span><span class="p">],</span>
<span class="p">]</span>

<span class="c1"># Sort in decreasing order</span>
<span class="n">mobility_trends_UK_24MARCH2020</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span>
    <span class="n">by</span><span class="o">=</span><span class="s2">&quot;retail_and_recreation_percent_change_from_baseline&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sub_region_1</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3670070</th>
      <td>Greater London</td>
      <td>-94.0</td>
    </tr>
    <tr>
      <th>3670876</th>
      <td>Greater London</td>
      <td>-92.0</td>
    </tr>
    <tr>
      <th>3675712</th>
      <td>Greater London</td>
      <td>-87.0</td>
    </tr>
    <tr>
      <th>3695056</th>
      <td>Greater London</td>
      <td>-84.0</td>
    </tr>
    <tr>
      <th>3684578</th>
      <td>Greater London</td>
      <td>-83.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3893747</th>
      <td>West Sussex</td>
      <td>-56.0</td>
    </tr>
    <tr>
      <th>3616211</th>
      <td>Cumbria</td>
      <td>-56.0</td>
    </tr>
    <tr>
      <th>3735279</th>
      <td>Kent</td>
      <td>-54.0</td>
    </tr>
    <tr>
      <th>3736891</th>
      <td>Kent</td>
      <td>-54.0</td>
    </tr>
    <tr>
      <th>3769073</th>
      <td>Merseyside</td>
      <td>-50.0</td>
    </tr>
  </tbody>
</table>
<p>417 rows × 2 columns</p>
</div></div></div>
</div>
<p>Let’s identify the places in the UK with the highest reduction of workplaces mobility.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We need to first find the index of the row</span>
<span class="c1"># with the highest reduction of workplaces mobility</span>
<span class="n">mobility_trends_UK_workplaces</span> <span class="o">=</span> <span class="n">mobility_trends_UK</span><span class="p">[</span>
    <span class="s2">&quot;workplaces_percent_change_from_baseline&quot;</span>
<span class="p">]</span><span class="o">.</span><span class="n">idxmin</span><span class="p">()</span>

<span class="n">mobility_trends_UK_workplaces</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3684598
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use the above index to access the row</span>
<span class="c1"># with the highest reduction of workplaces mobility</span>
<span class="n">mobility_trends</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="n">mobility_trends_UK_workplaces</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3684598</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>Greater London</td>
      <td>London Borough of Islington</td>
      <td>NaN</td>
      <td>GB-ISL</td>
      <td>NaN</td>
      <td>ChIJ5Tvr7V0bdkgRyWXsGMuF8FQ</td>
      <td>2020-04-13</td>
      <td>-88.0</td>
      <td>-51.0</td>
      <td>-28.0</td>
      <td>-90.0</td>
      <td>-91.0</td>
      <td>40.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In our basic exploratory data analysis, we found that as of 21 April 2021 the largest percentage mobility change in workplaces was in the London Borough of Islington, Greater London, on 13 April 2020 when the workplaces mobility was reduced with 91 per cent compared to a baseline period. This result is only for exploratory purposes. Note that <a class="reference external" href="https://support.google.com/covid19-mobility/answer/9824897?hl=en&amp;ref_topic=9822927">the same mobility in two different days would result in different percentage changes</a> due to the way in which actual mobility is compared to a baseline in the Google Covid-19 Community Mobility Reports.</p>
</div>
</div>
<div class="section" id="handling-missing-values">
<h1>Handling Missing Values<a class="headerlink" href="#handling-missing-values" title="Permalink to this headline">¶</a></h1>
<p>Many data sets have missing values and the mobility data is not an exception. Handling missing values is a very common problem in data analysis. We will cover two simple ways of handling missing values in data:</p>
<ul class="simple">
<li><p>Deletion — missing observations are simply dropped from the data set.</p>
<ul>
<li><p>Likewise - removes all data for an observation that has one or more missing values.</p></li>
<li><p>Pairwise — removes observations with missing values only for the variables used in the current procedure (e.g., model or technique).</p></li>
</ul>
</li>
<li><p>Imputation — missing observations are replaced with inferred values. We will cover simple imputation methods in which missing values are replaced with column mean or row mean.</p></li>
</ul>
<p>For more advanced methods and functionality, including interpolation methods, see the section <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.19.1/missing_data.html">‘Working with missing data’</a> in Pandas documentation.</p>
<div class="section" id="detecting-missing-values">
<h2>Detecting missing values<a class="headerlink" href="#detecting-missing-values" title="Permalink to this headline">¶</a></h2>
<p>In <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, missing values are represented as <code class="docutils literal notranslate"><span class="pre">NaN</span></code>, which stands for Not a Number. To detect missing values, we can use the function <code class="docutils literal notranslate"><span class="pre">isna()</span></code> (other functions, for example <code class="docutils literal notranslate"><span class="pre">isnull()</span></code> can be used to the same effect). The function returns boolean values (False, True) indicating whether each corresponding value in a DataFrame is missing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9709262</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>9709263</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>9709264</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>9709265</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>9709266</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
<p>9709267 rows × 15 columns</p>
</div></div></div>
</div>
<p>Let’s determine the number of missing values for each column in the DataFrame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>country_region_code                                      6074
country_region                                              0
sub_region_1                                           160592
sub_region_2                                          1579590
metro_area                                            9657078
iso_3166_2_code                                       8015213
census_fips_code                                      7642906
place_id                                                17824
date                                                        0
retail_and_recreation_percent_change_from_baseline    3697187
grocery_and_pharmacy_percent_change_from_baseline     3969658
parks_percent_change_from_baseline                    5113773
transit_stations_percent_change_from_baseline         4891148
workplaces_percent_change_from_baseline                347869
residential_percent_change_from_baseline              3779724
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>It would be useful to quantify the percentage of values that are missing per column. To achieve this, we simply divide the number of missing values in a column by the number of rows in the DataFrame (and multiply the result by 100).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">mobility_trends</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>country_region_code                                    0.062559
country_region                                         0.000000
sub_region_1                                           1.654007
sub_region_2                                          16.268890
metro_area                                            99.462483
iso_3166_2_code                                       82.552195
census_fips_code                                      78.717642
place_id                                               0.183577
date                                                   0.000000
retail_and_recreation_percent_change_from_baseline    38.078951
grocery_and_pharmacy_percent_change_from_baseline     40.885249
parks_percent_change_from_baseline                    52.668991
transit_stations_percent_change_from_baseline         50.376079
workplaces_percent_change_from_baseline                3.582855
residential_percent_change_from_baseline              38.929036
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>Let’s now repeat the procedure for the UK mobility data only:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends_UK</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">mobility_trends_UK</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>country_region_code                                     0.000000
country_region                                          0.000000
sub_region_1                                            0.239830
sub_region_2                                           36.106954
metro_area                                            100.000000
iso_3166_2_code                                        49.442231
census_fips_code                                      100.000000
place_id                                                0.000000
date                                                    0.000000
retail_and_recreation_percent_change_from_baseline      2.789887
grocery_and_pharmacy_percent_change_from_baseline       2.705083
parks_percent_change_from_baseline                     21.133927
transit_stations_percent_change_from_baseline           3.258835
workplaces_percent_change_from_baseline                 0.526972
residential_percent_change_from_baseline                5.749975
dtype: float64
</pre></div>
</div>
</div>
</div>
<p>The output shows that the missing values in most mobility categories are below 5 per cent except the missing values for residential mobility (8%) and parks mobility (21.7%).</p>
</div>
<div class="section" id="removing-missing-values">
<h2>Removing missing values<a class="headerlink" href="#removing-missing-values" title="Permalink to this headline">¶</a></h2>
<p>We can remove missing values using the Pandas function <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.dropna.html"><code class="docutils literal notranslate"><span class="pre">dropna()</span></code></a>. The default functionality removes rows that contain at least one missing value. The <code class="docutils literal notranslate"><span class="pre">dropna()</span></code> function provides other capabilities as well. For example, it is possible to remove columns (instead of rows) that contain missing values by specifying <code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">1</span></code> within the brackets. Also, we can specify under what conditions rows or columns are removed: use <code class="docutils literal notranslate"><span class="pre">how</span> <span class="pre">=</span> <span class="pre">any</span></code> if you would like to drop rows or columns that contain any missing value, which is the default functionality; use <code class="docutils literal notranslate"><span class="pre">how</span> <span class="pre">=</span> <span class="pre">all</span></code> if you would like to drop rows or columns in which all values are missing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends_UK</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div></div></div>
</div>
<p>We did not specify particular columns on which to perform the <code class="docutils literal notranslate"><span class="pre">dropna()</span></code> function. Because we have a column (‘metro_area’) for which all values are missing, the <code class="docutils literal notranslate"><span class="pre">dropna()</span></code> function removed all observations from the DataFrame. This is analogous to a likewise deletion of missing values.</p>
<p>A more informative approach would be to specify the columns we are going to use in our analysis and drop missing values only for this subset of variables. We can drop rows that contain any missing values in the six mobility categories by passing the labels of those categories to the parameter <code class="docutils literal notranslate"><span class="pre">subset</span></code> as shown below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends_UK</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">mobility_trends_UK</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">9</span><span class="p">:</span><span class="mi">15</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_region_code</th>
      <th>country_region</th>
      <th>sub_region_1</th>
      <th>sub_region_2</th>
      <th>metro_area</th>
      <th>iso_3166_2_code</th>
      <th>census_fips_code</th>
      <th>place_id</th>
      <th>date</th>
      <th>retail_and_recreation_percent_change_from_baseline</th>
      <th>grocery_and_pharmacy_percent_change_from_baseline</th>
      <th>parks_percent_change_from_baseline</th>
      <th>transit_stations_percent_change_from_baseline</th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3577753</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-15</td>
      <td>-12.0</td>
      <td>-7.0</td>
      <td>-35.0</td>
      <td>-12.0</td>
      <td>-4.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577754</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-16</td>
      <td>-7.0</td>
      <td>-6.0</td>
      <td>-28.0</td>
      <td>-7.0</td>
      <td>-3.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3577755</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-17</td>
      <td>10.0</td>
      <td>1.0</td>
      <td>24.0</td>
      <td>-2.0</td>
      <td>-14.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577756</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-18</td>
      <td>7.0</td>
      <td>-1.0</td>
      <td>20.0</td>
      <td>-3.0</td>
      <td>-14.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577757</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>ChIJqZHHQhE7WgIReiWIMkOg-MQ</td>
      <td>2020-02-19</td>
      <td>6.0</td>
      <td>-2.0</td>
      <td>8.0</td>
      <td>-4.0</td>
      <td>-14.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3913819</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-YOR</td>
      <td>NaN</td>
      <td>ChIJh-IigLwxeUgRAKFv7Z75DAM</td>
      <td>2022-04-26</td>
      <td>-4.0</td>
      <td>11.0</td>
      <td>23.0</td>
      <td>-23.0</td>
      <td>-27.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3913820</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-YOR</td>
      <td>NaN</td>
      <td>ChIJh-IigLwxeUgRAKFv7Z75DAM</td>
      <td>2022-04-27</td>
      <td>-6.0</td>
      <td>9.0</td>
      <td>21.0</td>
      <td>-23.0</td>
      <td>-25.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3913821</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-YOR</td>
      <td>NaN</td>
      <td>ChIJh-IigLwxeUgRAKFv7Z75DAM</td>
      <td>2022-04-28</td>
      <td>-2.0</td>
      <td>11.0</td>
      <td>26.0</td>
      <td>-23.0</td>
      <td>-25.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3913822</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-YOR</td>
      <td>NaN</td>
      <td>ChIJh-IigLwxeUgRAKFv7Z75DAM</td>
      <td>2022-04-29</td>
      <td>-6.0</td>
      <td>12.0</td>
      <td>22.0</td>
      <td>-12.0</td>
      <td>-27.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>3913823</th>
      <td>GB</td>
      <td>United Kingdom</td>
      <td>York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>GB-YOR</td>
      <td>NaN</td>
      <td>ChIJh-IigLwxeUgRAKFv7Z75DAM</td>
      <td>2022-04-30</td>
      <td>-7.0</td>
      <td>8.0</td>
      <td>39.0</td>
      <td>4.0</td>
      <td>-10.0</td>
      <td>-1.0</td>
    </tr>
  </tbody>
</table>
<p>250421 rows × 15 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends_UK</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(336071, 15)
</pre></div>
</div>
</div>
</div>
<p>After removing the rows that contain missing values in the six mobility categories/columns, we are left with 137992 rows out of 191064 rows, a reduction of approximately 28%.</p>
</div>
<div class="section" id="replacing-missing-values">
<h2>Replacing missing values<a class="headerlink" href="#replacing-missing-values" title="Permalink to this headline">¶</a></h2>
<p>Let’s replace NaN values with the mean of non-missing values. For example, we can replace missing values in the columns ‘workplaces_percent_change_from_baseline’ and ‘residential_percent_change_from_baseline’ by the mean of values in the two columns as determined by the Pandas <code class="docutils literal notranslate"><span class="pre">mean()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Replace the NaNs in the columns &#39;workplaces_percent_change_from_baseline&#39;</span>
<span class="c1"># and &#39;residential_percent_change_from_baseline&#39;</span>
<span class="c1"># by the mean of the non-missing values.</span>
<span class="n">mobility_trends_UK</span><span class="p">[</span>
    <span class="p">[</span>
        <span class="s2">&quot;workplaces_percent_change_from_baseline&quot;</span><span class="p">,</span>
        <span class="s2">&quot;residential_percent_change_from_baseline&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span>
    <span class="n">value</span><span class="o">=</span><span class="n">mobility_trends_UK</span><span class="p">[</span>
        <span class="p">[</span>
            <span class="s2">&quot;workplaces_percent_change_from_baseline&quot;</span><span class="p">,</span>
            <span class="s2">&quot;residential_percent_change_from_baseline&quot;</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>workplaces_percent_change_from_baseline</th>
      <th>residential_percent_change_from_baseline</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3577753</th>
      <td>-4.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577754</th>
      <td>-3.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3577755</th>
      <td>-14.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577756</th>
      <td>-14.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>3577757</th>
      <td>-14.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3913819</th>
      <td>-27.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3913820</th>
      <td>-25.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3913821</th>
      <td>-25.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3913822</th>
      <td>-27.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>3913823</th>
      <td>-10.0</td>
      <td>-1.0</td>
    </tr>
  </tbody>
</table>
<p>336071 rows × 2 columns</p>
</div></div></div>
</div>
<p>We now have the same number of rows (191064) as the original mobility_trends_UK DataFrame, with each missing value replaced by the mean value for the respective column. More advanced (and practical) approaches of replacing missing values can take into account groupings in the data and replace missing values with the mean value of a group of counties or the mean value of a time period; those operations would require more advanced Pandas functionality such as <code class="docutils literal notranslate"><span class="pre">groupby()</span></code>, which we will use in the next lab.</p>
<img src="https://covid19-static.cdn-apple.com/applications/covid19-mobility/current/static/og_image_v1.png" width="200" height="100" align="right"/>
</div>
</div>
<div class="section" id="compare-mobility-data-formats">
<h1>Compare mobility data formats<a class="headerlink" href="#compare-mobility-data-formats" title="Permalink to this headline">¶</a></h1>
<p>A related aggregate, privacy-preserving, and freely available mobility data set is the Apple’s <a class="reference external" href="https://covid19.apple.com/mobility">Mobility Trends Reports</a>. The data is updated daily and reflect in aggregate requests for directions in Apple Maps for select countries/regions, sub-regions and cities.</p>
<p>The Mobility Trends Reports data can be downloaded from the website <a class="reference external" href="https://covid19.apple.com/mobility">https://covid19.apple.com/mobility</a>. However, because the data file is not at a stable location (URL), we cannot load the data from the website but instead access the data from a <a class="reference external" href="https://github.com/ActiveConclusion/COVID19_mobility">COVID-19 mobility data aggregator on GitHub</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mobility_trends_covid_apple</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s2">&quot;https://raw.githubusercontent.com/ActiveConclusion/COVID19_mobility/master/apple_reports/applemobilitytrends.csv&quot;</span>
<span class="p">)</span>
<span class="n">mobility_trends_covid_apple</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>geo_type</th>
      <th>region</th>
      <th>transportation_type</th>
      <th>alternative_name</th>
      <th>sub-region</th>
      <th>country</th>
      <th>2020-01-13</th>
      <th>2020-01-14</th>
      <th>2020-01-15</th>
      <th>2020-01-16</th>
      <th>...</th>
      <th>2022-04-03</th>
      <th>2022-04-04</th>
      <th>2022-04-05</th>
      <th>2022-04-06</th>
      <th>2022-04-07</th>
      <th>2022-04-08</th>
      <th>2022-04-09</th>
      <th>2022-04-10</th>
      <th>2022-04-11</th>
      <th>2022-04-12</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>country/region</td>
      <td>Albania</td>
      <td>driving</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>100.0</td>
      <td>95.30</td>
      <td>101.43</td>
      <td>97.20</td>
      <td>...</td>
      <td>149.58</td>
      <td>156.76</td>
      <td>156.76</td>
      <td>151.02</td>
      <td>157.86</td>
      <td>185.12</td>
      <td>196.62</td>
      <td>173.11</td>
      <td>173.21</td>
      <td>171.09</td>
    </tr>
    <tr>
      <th>1</th>
      <td>country/region</td>
      <td>Albania</td>
      <td>walking</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>100.0</td>
      <td>100.68</td>
      <td>98.93</td>
      <td>98.46</td>
      <td>...</td>
      <td>161.71</td>
      <td>215.31</td>
      <td>221.62</td>
      <td>211.34</td>
      <td>189.25</td>
      <td>244.22</td>
      <td>231.90</td>
      <td>154.93</td>
      <td>223.97</td>
      <td>223.45</td>
    </tr>
    <tr>
      <th>2</th>
      <td>country/region</td>
      <td>Argentina</td>
      <td>driving</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>100.0</td>
      <td>97.07</td>
      <td>102.45</td>
      <td>111.21</td>
      <td>...</td>
      <td>93.32</td>
      <td>97.74</td>
      <td>102.63</td>
      <td>106.26</td>
      <td>111.81</td>
      <td>145.45</td>
      <td>158.56</td>
      <td>99.20</td>
      <td>100.82</td>
      <td>114.56</td>
    </tr>
    <tr>
      <th>3</th>
      <td>country/region</td>
      <td>Argentina</td>
      <td>walking</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>100.0</td>
      <td>95.11</td>
      <td>101.37</td>
      <td>112.67</td>
      <td>...</td>
      <td>88.58</td>
      <td>126.43</td>
      <td>133.06</td>
      <td>135.64</td>
      <td>142.40</td>
      <td>178.26</td>
      <td>172.83</td>
      <td>98.96</td>
      <td>126.57</td>
      <td>139.29</td>
    </tr>
    <tr>
      <th>4</th>
      <td>country/region</td>
      <td>Australia</td>
      <td>driving</td>
      <td>AU</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>100.0</td>
      <td>102.98</td>
      <td>104.21</td>
      <td>108.63</td>
      <td>...</td>
      <td>123.95</td>
      <td>116.32</td>
      <td>132.29</td>
      <td>134.97</td>
      <td>145.09</td>
      <td>146.34</td>
      <td>125.79</td>
      <td>136.60</td>
      <td>139.01</td>
      <td>146.75</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 827 columns</p>
</div></div></div>
</div>
<div class="admonition-activity-discussing-data-formats admonition">
<p class="admonition-title">Activity: Discussing data formats</p>
<p>Compare the format of the data in the <em>Apple Mobility Trends Reports</em> to the format of the data in the <em>Google COVID-19 Community Mobility Reports</em> and in <em>Our World in Data COVID-19 data</em>. Focus in particular on similarities and differences in how time series data is represented across data sets.</p>
</div>
</div>
<div class="section" id="recording-dependencies">
<h1>Recording dependencies<a class="headerlink" href="#recording-dependencies" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install the watermark extension</span>
<span class="o">!</span>pip install -q watermark

<span class="c1"># Load the watermark extension</span>
<span class="o">%</span><span class="k">load_ext</span> watermark

<span class="c1"># Show packages that were imported</span>
<span class="o">%</span><span class="k">watermark</span> --iversions
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas: 1.1.3
</pre></div>
</div>
</div>
</div>
<p>Save a list of the packages (and their versions) used in the current notebook to a file named <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run pipreqsnb after specifying the path to the notebook</span>
<span class="o">!</span>pipreqsnb ../notebooks/04_data_design_and_data_wrangling.ipynb
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pipreqs  --savepath ../notebooks/requirements.txt .//__temp_pipreqsnb_folder/
INFO: Successfully saved requirements file in ../notebooks/requirements.txt
</pre></div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="03_open_reproducible_workflows.html" title="previous page">Open Reproducible Data Science Workflow</a>
    <a class='right-next' id="next-link" href="05_data_exploration_and_visualisation.html" title="next page">Exploratory Data Analysis and Visualisation</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Valentin Danchev<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>